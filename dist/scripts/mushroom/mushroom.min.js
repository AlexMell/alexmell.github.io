"use strict";function eventWindowLoaded(){canvasApp()}function canvasApp(){function n(){var n=$("#range"),t=$("#range2"),r=$("#range3"),o=$("#range4"),c=$("#range-end-x"),h=$("#range-end-y");n.ionRangeSlider({type:"single",min:0,max:1e3,hide_min_max:!0,from:d.cp1.x}),t.ionRangeSlider({type:"single",min:0,max:1e3,hide_min_max:!0,from:d.cp1.y}),r.ionRangeSlider({type:"single",min:0,max:1e3,hide_min_max:!0,from:d.cp2.x}),o.ionRangeSlider({type:"single",min:0,max:1e3,hide_min_max:!0,from:d.cp2.y}),c.ionRangeSlider({type:"single",min:0,max:1e3,hide_min_max:!0,from:d.end.x}),h.ionRangeSlider({type:"single",min:0,max:1e3,hide_min_max:!0,from:d.end.y}),n.on("change",function(){var n=$(this);d.cp1.x=n.prop("value"),e(),a(),i()}),t.on("change",function(){var n=$(this);d.cp1.y=n.prop("value"),e(),a(),i()}),r.on("change",function(){var n=$(this);d.cp2.x=n.prop("value"),e(),a(),i()}),o.on("change",function(){var n=$(this);d.cp2.y=n.prop("value"),e(),a(),i()}),c.on("change",function(){var n=$(this);d.end.x=n.prop("value"),e(),a(),i()}),h.on("change",function(){var n=$(this);d.end.y=n.prop("value"),e(),a(),i()}),e(),a(),i()}function e(){r.clearRect(0,0,t.width,t.height),r.beginPath(),r.strokeStyle="#0AB5B6",r.lineWidth=20,r.moveTo(d.start.x,d.start.y),r.bezierCurveTo(d.cp1.x,d.cp1.y,d.cp2.x,d.cp2.y,d.end.x,d.end.y),r.stroke()}function a(){var n=d.end.x,e=d.end.y,a=80;r.beginPath(),r.arc(n,e,a,0,2*Math.PI,!1),r.fillStyle="#0AB5B6",r.fill()}function i(){function n(n,e,a,i,t){var r=n*n,o=r*n;return e+(3*-e+n*(3*e-e*n))*n+(3*a+n*(-6*a+3*a*n))*n+(3*i-3*i*n)*r+t*o}function e(e,a,i,t,r){var o=n(r,e.x,a.x,i.x,t.x),d=n(r,e.y,a.y,i.y,t.y);return{x:o,y:d}}function a(n,e,a,i,t){return 3*t*t*(-n+3*e-3*a+i)+6*t*(n-2*e+a)+3*(-n+e)}for(var i=Math.PI,t=[],o=0;100>=o;o+=.25){var c=o/100,h=e(d.start,d.cp1,d.cp2,d.end,c),p=a(d.start.x,d.cp1.x,d.cp2.x,d.end.x,c),x=a(d.start.y,d.cp1.y,d.cp2.y,d.end.y,c),g=Math.atan2(x,p)-i/2;t.push({x:h.x,y:h.y,angle:g})}for(var y=0;y<t.length;y++){var l=t[y].x+10*Math.cos(t[y].angle),m=t[y].y+10*Math.sin(t[y].angle),s=t[y].x+10*Math.cos(t[y].angle-i),v=t[y].y+10*Math.sin(t[y].angle-i),u=r.createLinearGradient(l,m,s,v);u.addColorStop(0,"#0A7AAA"),u.addColorStop(1,"#190643"),r.strokeStyle=u,r.beginPath(),r.moveTo(l,m),r.lineTo(s,v),r.stroke()}}var t=document.getElementById("mushroom"),r=t.getContext("2d");t.width=window.innerWidth,t.height=window.innerHeight;var o=(t.width/2,t.height/2,t.width,t.height),d={start:{x:500,y:o+20},cp1:{x:825,y:589},cp2:{x:316,y:919},end:{x:550,y:450}};n()}window.addEventListener("load",eventWindowLoaded,!1);