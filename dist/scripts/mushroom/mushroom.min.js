"use strict";function eventWindowLoaded(){canvasApp()}function canvasApp(){function n(){var n=$("#range"),t=$("#range2"),a=$("#range3"),o=$("#range4"),r=$("#range-end-x"),c=$("#range-end-y");n.ionRangeSlider({type:"single",min:0,max:1e3,hide_min_max:!0,from:f.cp1.x}),t.ionRangeSlider({type:"single",min:0,max:1e3,hide_min_max:!0,from:f.cp1.y}),a.ionRangeSlider({type:"single",min:0,max:1e3,hide_min_max:!0,from:f.cp2.x}),o.ionRangeSlider({type:"single",min:0,max:1e3,hide_min_max:!0,from:f.cp2.y}),r.ionRangeSlider({type:"single",min:0,max:1e3,hide_min_max:!0,from:f.end.x}),c.ionRangeSlider({type:"single",min:0,max:1e3,hide_min_max:!0,from:f.end.y}),n.on("change",function(){var n=$(this);f.cp1.x=n.prop("value"),e(),i()}),t.on("change",function(){var n=$(this);f.cp1.y=n.prop("value"),e(),i()}),a.on("change",function(){var n=$(this);f.cp2.x=n.prop("value"),e(),i()}),o.on("change",function(){var n=$(this);f.cp2.y=n.prop("value"),e(),i()}),r.on("change",function(){var n=$(this);f.end.x=n.prop("value"),e(),i()}),c.on("change",function(){var n=$(this);f.end.y=n.prop("value"),e(),i()}),e(),i()}function e(){c.clearRect(0,0,r.width,r.height),c.beginPath(),c.strokeStyle="#0AB5B6",c.lineWidth=20,c.moveTo(f.start.x,f.start.y),c.bezierCurveTo(f.cp1.x,f.cp1.y,f.cp2.x,f.cp2.y,f.end.x,f.end.y),c.stroke()}function i(){var n=f.end.x,e=f.end.y,i=80;c.beginPath(),c.arc(n,e,i,0,2*Math.PI,!1),c.fillStyle="#0AB5B6",c.fill()}function t(n){x=parseInt(n.clientX-m),y=parseInt(n.clientY-s),l=x,u=y,g=!0}function a(n){x=parseInt(n.clientX-m),y=parseInt(n.clientY-s),g=!1}function o(n){if(g){x=parseInt(n.clientX-m),y=parseInt(n.clientY-s);var e=n.pageX-r.getBoundingClientRect().left,i=n.pageY-r.getBoundingClientRect().top,t=e-f.end.x,a=i-f.end.y,o=Math.sqrt(t*t+a*a);80>o&&(f.end.x=x,f.end.y=y,$("body").css("cursor","pointer"));var c=e-f.cp1.x,p=i-f.cp1.y,d=Math.sqrt(c*p+p*p);30>d&&(f.cp1.x=x,f.cp1.y=y);var h=e-f.cp2.x,l=i-f.cp2.y,u=Math.sqrt(h*l+l*l);30>u&&(f.cp2.x=x,f.cp2.y=y)}}var r=document.getElementById("mushroom"),c=r.getContext("2d"),p=$("#mushroom");r.width=window.innerWidth,r.height=window.innerHeight;var d=(r.width/2,r.height/2,r.width,r.height),h=p.offset(),m=h.left,s=h.top,g=!1,l=0,u=0,x=void 0,y=void 0,f={start:{x:500,y:d+20},cp1:{x:825,y:589},cp2:{x:316,y:919},end:{x:550,y:450}};p.mousedown(function(n){t(n),e(),i()}),p.mousemove(function(n){o(n),e(),i()}),p.mouseup(function(n){a(n),e(),i()}),n()}window.addEventListener("load",eventWindowLoaded,!1);